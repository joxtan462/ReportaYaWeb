<header class="header">
  <div class="logo-container">
    <img src="assets/Logo-San-Bernardo.png" alt="Municipalidad de San Bernardo" class="logo-muni" />
    <img src="assets/logo.png" alt="Sistema de Alertas" class="logo-app" />
  </div>

  <div class="user-greeting">
    <span style="color: white">Bienvenido, <strong>{{ usuarioNombre }}</strong> ({{ usuarioRango }})</span>
    <button class="btn-logout" (click)="cerrarSesion()">ğŸšª Cerrar SesiÃ³n</button>
  </div>
</header>

<div class="main-content">
  <!-- MENÃš LATERAL -->
  <aside class="sidebar">
    <nav>
      <ul>
        <!-- ğŸ”¹ Ruta: menu -->
        <li>
          <a [routerLink]="['/menu']" routerLinkActive="active">
            <span class="icon">ğŸ </span> MenÃº
          </a>
        </li>

        <!-- ğŸ”¹ Ruta: alertasvecinales -->
        <li *ngIf="puedeVer('alertasvecinales')">
          <a [routerLink]="['/alertasvecinales']" routerLinkActive="active">
            <span class="icon">ğŸš¨</span> Alertas Vecinales
          </a>
        </li>

        <!-- ğŸ”¹ Ruta: camarassolicitadas -->
        <li *ngIf="puedeVer('camarassolicitadas')">
          <a [routerLink]="['/camarassolicitadas']" routerLinkActive="active">
            <span class="icon">ğŸ“¹</span> CÃ¡maras Solicitadas
          </a>
        </li>

        <!-- ğŸ”¹ Ruta: mapa -->
        <li *ngIf="puedeVer('mapa')">
          <a [routerLink]="['/mapa']" routerLinkActive="active">
            <span class="icon">ğŸ—ºï¸</span> Mapa en Vivo
          </a>
        </li>

        <!-- ğŸ”¹ Ruta: multas -->
        <li *ngIf="puedeVer('multas')">
          <a [routerLink]="['/multas']" routerLinkActive="active">
            <span class="icon">ğŸ’°</span> Multas
          </a>
        </li>

        <!-- ğŸ”¹ Ruta: crearusuario (solo para admin) -->
        <li *ngIf="puedeVer('crearusuario')">
          <a [routerLink]="['/crearusuario']" routerLinkActive="active">
            <span class="icon">ğŸ‘¥</span> Crear Usuario
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="main-area">
    <div class="menu-container">
      <h2>Panel de Control</h2>
      <p>Resumen general del sistema.</p>

      <!-- ESTADÃSTICAS GENERALES -->
      <div class="stats-grid">
        <div class="stat-card">
          <h3>Usuarios</h3>
          <p class="stat-number">{{ totalUsuarios }}</p>
        </div>
        <div class="stat-card">
          <h3>Reportes</h3>
          <p class="stat-number">{{ totalReportes }}</p>
        </div>
        <div class="stat-card">
          <h3>Multas</h3>
          <p class="stat-number">{{ totalMultas }}</p>
        </div>
      </div>

      <!-- GRÃFICOS -->
      <div class="charts-grid">
        <div class="chart-card">
          <h3><span class="chart-icon">ğŸ“ˆ</span> Reportes por DÃ­a</h3>
          <canvas id="graficoDia" width="30%"></canvas>
        </div>

        <div class="chart-card">
          <h3><span class="chart-icon">ğŸ“</span> Reportes por Sector</h3>
          <canvas id="graficoSector" width="30%"></canvas>
        </div>

        <div class="chart-card">
          <h3><span class="chart-icon">ğŸ””</span> Reportes por Tipo</h3>
          <canvas id="graficoTipo" width="30%"></canvas>
        </div>
      </div>
    </div>
  </main>
</div>
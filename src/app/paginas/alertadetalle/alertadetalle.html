<header class="navbar">
  <div class="navbar-left">
    <img src="assets/logo.png" alt="Logo" class="logo" />
    <a class="app-name" routerLink="/menu">ReportaYa</a>
  </div>
  <div class="usuario">Usuario: #######</div>
</header>

<div class="detalle-container">
  <h1 class="titulo-detalle">Detalle de Alerta</h1>

  <!-- Información general -->
  <section class="card">
    <h2>Información General</h2>
    <div class="info-grid">
      <p><strong>ID:</strong> {{ alerta.id }}</p>
      <p><strong>Fecha:</strong> {{ alerta.creadoEn | date: 'dd/MM/yyyy HH:mm' }}</p>
      <p><strong>Ubicación:</strong> {{ alerta.ubicacion }}</p>

      <p>
        <strong>Prioridad:</strong>
        <select
          [(ngModel)]="alerta.prioridad"
          (change)="onPrioridadChange()"
          class="select-prioridad"
        >
          <option value="Alta">Alta</option>
          <option value="Media">Media</option>
          <option value="Baja">Baja</option>
        </select>
      </p>

      <p>
        <strong>Visibilidad:</strong>
        <select
          [(ngModel)]="alerta.privado"
          (change)="onVisibilidadChange()"
          class="select-visibilidad"
        >
          <option [ngValue]="true">Privado</option>
          <option [ngValue]="false">Público</option>
        </select>
      </p>

      <!-- Estado -->
      <div class="estado-section">
        <strong>Estado:</strong>
        <div class="estado-checks">
          <label class="estado-item pendiente">
            <input
              type="checkbox"
              [(ngModel)]="alerta.estado.pendiente"
              (change)="actualizarEstado('pendiente', alerta.estado.pendiente)"
            />
            Pendiente
          </label>

          <label class="estado-item terreno">
            <input
              type="checkbox"
              [(ngModel)]="alerta.estado.enTerreno"
              (change)="actualizarEstado('enTerreno', alerta.estado.enTerreno)"
            />
            En Terreno
          </label>

          <label class="estado-item concluido">
            <input
              type="checkbox"
              [(ngModel)]="alerta.estado.concluido"
              (change)="actualizarEstado('concluido', alerta.estado.concluido)"
            />
            Concluido
          </label>
        </div>
      </div>

      <p class="descripcion">
        <strong>Descripción:</strong><br />
        <textarea
          [(ngModel)]="alerta.descripcion"
          rows="4"
          class="descripcion-textarea"
        ></textarea>
      </p>
    </div>
  </section>

  <!-- Imagen o video -->
  <section class="card imagen-video">
    <h2>Registro Visual</h2>
    <img [src]="alerta.fotoURL || alerta.imagenVideo" alt="Imagen/Video alerta" />
  </section>

  <!-- Botones -->
  <section class="acciones">
    <button routerLink="/alertasvecinales" class="btn btn-volver">← Volver</button>
  </section>
</div>
